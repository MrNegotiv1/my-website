(function() {
    'use strict';

    const encryptedCode = "KGZ1bmN0aW9uKCkgewogICAgJ3VzZSBzdHJpY3QnOwoKICAgIGxldCBzcGVlZCA9IDE7CgogICAgZnVuY3Rpb24gc2V0VGltZVNwZWVkKG11bHRpcGxpZXIpIHsKICAgICAgICBzcGVlZCA9IG11bHRpcGxpZXI7CiAgICB9CgoKICAgIGxldCBsYXN0UE5vdyA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgbGV0IHBOb3dPZmZzZXQgPSAwOwoKICAgIHdpbmRvdy5wZXJmb3JtYW5jZS5ub3cgPSBuZXcgUHJveHkod2luZG93LnBlcmZvcm1hbmNlLm5vdywgewogICAgICAgIGFwcGx5OiBmdW5jdGlvbih0YXJnZXQsIHRoaXNBcmcsIGFyZ0xpc3QpIHsKICAgICAgICAgICAgY29uc3QgdGltZSA9IFJlZmxlY3QuYXBwbHkodGFyZ2V0LCB0aGlzQXJnLCBhcmdMaXN0KTsKICAgICAgICAgICAgcE5vd09mZnNldCArPSAodGltZSAtIGxhc3RQTm93KSAqIChzcGVlZCAtIDEpOwogICAgICAgICAgICBsYXN0UE5vdyA9IHRpbWU7CiAgICAgICAgICAgIHJldHVybiB0aW1lICsgcE5vd09mZnNldDsKICAgICAgICB9CiAgICB9KTsKCgogICAgbGV0IGxhc3REID0gRGF0ZS5ub3coKTsKICAgIGxldCBkT2Zmc2V0ID0gMDsKCiAgICB3aW5kb3cuRGF0ZS5ub3cgPSBuZXcgUHJveHkod2luZG93LkRhdGUubm93LCB7CiAgICAgICAgYXBwbHk6IGZ1bmN0aW9uKHRhcmdldCwgdGhpc0FyZywgYXJnTGlzdCkgewogICAgICAgICAgICBjb25zdCB0aW1lID0gUmVmbGVjdC5hcHBseSh0YXJnZXQsIHRoaXNBcmcsIGFyZ0xpc3QpOwogICAgICAgICAgICBkT2Zmc2V0ICs9ICh0aW1lIC0gbGFzdEQpICogKHNwZWVkIC0gMSk7CiAgICAgICAgICAgIGxhc3REID0gdGltZTsKICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IodGltZSArIGRPZmZzZXQpOwogICAgICAgIH0KICAgIH0pOwoKCiAgICBsZXQgbGFzdFJBRiA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgbGV0IHJBRk9mZnNldCA9IDA7CgogICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IG5ldyBQcm94eSh3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lLCB7CiAgICAgICAgYXBwbHk6IGZ1bmN0aW9uKHRhcmdldCwgdGhpc0FyZywgYXJnTGlzdCkgewogICAgICAgICAgICBpZiAodHlwZW9mIGFyZ0xpc3RbMF0gPT09ICJmdW5jdGlvbiIpIHsKICAgICAgICAgICAgICAgIGFyZ0xpc3RbMF0gPSBuZXcgUHJveHkoYXJnTGlzdFswXSwgewogICAgICAgICAgICAgICAgICAgIGFwcGx5OiBmdW5jdGlvbih0YXJnZXQyLCB0aGlzQXJnMiwgYXJnTGlzdDIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZSA9IGFyZ0xpc3QyWzBdOwogICAgICAgICAgICAgICAgICAgICAgICByQUZPZmZzZXQgKz0gKHRpbWUgLSBsYXN0UkFGKSAqIChzcGVlZCAtIDEpOwogICAgICAgICAgICAgICAgICAgICAgICBsYXN0UkFGID0gdGltZTsKICAgICAgICAgICAgICAgICAgICAgICAgYXJnTGlzdDJbMF0gPSB0aW1lICsgckFGT2Zmc2V0OwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5hcHBseSh0YXJnZXQyLCB0aGlzQXJnMiwgYXJnTGlzdDIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmFwcGx5KHRhcmdldCwgdGhpc0FyZywgYXJnTGlzdCk7CiAgICAgICAgfQogICAgfSk7CgoKICAgIHdpbmRvdy5hdXRvRUtleSA9ICJxIjsKICAgIHdpbmRvdy51c2VSaWdodENsaWNrID0gdHJ1ZTsKICAgIHdpbmRvdy5lUGVyU2Vjb25kID0gOTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5CgogICAgbGV0IHBpY2tpbmdVcEl0ZW0gPSBmYWxzZTsKICAgIGxldCBlUHJlc3NJbnRlcnZhbDsKICAgIGxldCBlUHJlc3NDb3VudCA9IDA7CgoKICAgIGZ1bmN0aW9uIHN0YXJ0QXV0b0UoKSB7CiAgICAgICAgaWYgKCFlUHJlc3NJbnRlcnZhbCkgewogICAgICAgICAgICBlUHJlc3NJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IEtleUlTZG93biA9IG5ldyBLZXlib2FyZEV2ZW50KCdrZXlkb3duJywgeyBrZXk6ICdlJywga2V5Q29kZTogNjksIGNvZGU6ICdLZXlFJyB9KTsKICAgICAgICAgICAgICAgIGNvbnN0IEtleUlTdXAgPSBuZXcgS2V5Ym9hcmRFdmVudCgna2V5dXAnLCB7IGtleTogJ2UnLCBrZXlDb2RlOiA2OSwgY29kZTogJ0tleUUnIH0pOwogICAgICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQoS2V5SVNkb3duKTsKICAgICAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KEtleUlTdXApOwogICAgICAgICAgICAgICAgZVByZXNzQ291bnQrKzsKICAgICAgICAgICAgfSwgMCk7CiAgICAgICAgfQogICAgfQoKCiAgICBmdW5jdGlvbiBzdG9wQXV0b0UoKSB7CiAgICAgICAgY2xlYXJJbnRlcnZhbChlUHJlc3NJbnRlcnZhbCk7CiAgICAgICAgZVByZXNzSW50ZXJ2YWwgPSBudWxsOwogICAgfQoKCiAgICBsZXQgc2NyaXB0RW5hYmxlZCA9IGZhbHNlOwogICAgbGV0IG1lbnVWaXNpYmxlID0gZmFsc2U7CiAgICBjb25zdCBtZW51ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICBtZW51LnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJzsKICAgIG1lbnUuc3R5bGUudG9wID0gJzEwcHgnOwogICAgbWVudS5zdHlsZS5yaWdodCA9ICcxMHB4JzsKICAgIG1lbnUuc3R5bGUucGFkZGluZyA9ICcxMHB4JzsKICAgIG1lbnUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ2JsYWNrJzsKICAgIG1lbnUuc3R5bGUuY29sb3IgPSAnd2hpdGUnOwogICAgbWVudS5zdHlsZS5ib3JkZXIgPSAnMXB4IHNvbGlkIHdoaXRlJzsKICAgIG1lbnUuc3R5bGUuYm94U2hhZG93ID0gJzAgMCAxMHB4IHJnYmEoMCwgMCwgMCwgMC41KSc7CiAgICBtZW51LnN0eWxlLnpJbmRleCA9ICc5OTk5JzsKICAgIG1lbnUuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgIG1lbnUuc3R5bGUuZm9udFNpemUgPSAnMTRweCc7CiAgICBtZW51LnN0eWxlLndpZHRoID0gJzE2MHB4JzsKICAgIG1lbnUuc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7CiAgICBtZW51LmlubmVySFRNTCA9IGAKICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOiA1cHg7Ij4KICAgICAgICAgICAgPGJ1dHRvbiBpZD0iZW5hYmxlU2NyaXB0IiBzdHlsZT0id2lkdGg6IDEwMCU7IHBhZGRpbmc6IDVweDsiPmVuYWJsZSBzY3JpcHQ8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOiA1cHg7Ij4KICAgICAgICAgICAgPGJ1dHRvbiBpZD0iZGlzYWJsZVNjcmlwdCIgc3R5bGU9IndpZHRoOiAxMDAlOyBwYWRkaW5nOiA1cHg7Ij5kaXNhYmxlIHNjcmlwdDwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXY+CiAgICAgICAgICAgIDxidXR0b24gaWQ9ImV4aXQiIHN0eWxlPSJjb2xvcjogd2hpdGU7IGJhY2tncm91bmQtY29sb3I6IHJlZDsgYm9yZGVyOiAxcHggc29saWQgd2hpdGU7IHdpZHRoOiAxMDAlOyBwYWRkaW5nOiA1cHg7Ij53ZWVzdF9iZWs8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgIGA7CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1lbnUpOwoKCiAgICBjb25zdCB0b2dnbGVNZW51ID0gKCkgPT4gewogICAgICAgIG1lbnVWaXNpYmxlID0gIW1lbnVWaXNpYmxlOwogICAgICAgIG1lbnUuc3R5bGUuZGlzcGxheSA9IG1lbnVWaXNpYmxlID8gJ2Jsb2NrJyA6ICdub25lJzsKICAgIH07CgoKICAgIGNvbnN0IGV4aXRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhpdCcpOwogICAgZXhpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGFsZXJ0KCfRgtC10LvQvtGH0LrRgyDQvdCwINCy0LXRgNCw0L3QtNC1INC+0YMg0LXRgScpOwogICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgfSk7CgoKICAgIGNvbnN0IGVuYWJsZUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbmFibGVTY3JpcHQnKTsKICAgIGVuYWJsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsKICAgICAgICBzY3JpcHRFbmFibGVkID0gdHJ1ZTsKICAgICAgICBhbGVydCgn0KHQutGA0LjQv9GCINCy0LrQu9GO0YfQtdC9IScpOwogICAgICAgIG1lbnUuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICBtZW51VmlzaWJsZSA9IGZhbHNlOwogICAgICAgIHJ1bk9yaWdpbmFsU2NyaXB0KCk7CiAgICB9KTsKCgogICAgY29uc3QgZGlzYWJsZUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNhYmxlU2NyaXB0Jyk7CiAgICBkaXNhYmxlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gewogICAgICAgIHNjcmlwdEVuYWJsZWQgPSBmYWxzZTsKICAgICAgICBhbGVydCgn0KHQutGA0LjQv9GCINC+0YLQutC70Y7Rh9C10L0hJyk7CiAgICAgICAgbWVudS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgIG1lbnVWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgc3RvcE9yaWdpbmFsU2NyaXB0KCk7CiAgICB9KTsKCgogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7CiAgICAgICAgaWYgKGUua2V5ID09PSAnSW5zZXJ0JykgewogICAgICAgICAgICB0b2dnbGVNZW51KCk7CiAgICAgICAgfQogICAgfSk7CgoKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7CiAgICAgICAgaWYgKGUuYnV0dG9uID09PSAyICYmIHNjcmlwdEVuYWJsZWQpIHsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICBleGVjdXRlRUNvbW1hbmRzKCk7CiAgICAgICAgfQogICAgfSk7CgoKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsIGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgICAgaWYgKGV2ZW50LmJ1dHRvbiA9PT0gMiAmJiBzY3JpcHRFbmFibGVkKSB7CiAgICAgICAgICAgIHBpY2tpbmdVcEl0ZW0gPSB0cnVlOwogICAgICAgICAgICBzZXRUaW1lU3BlZWQoMyk7CiAgICAgICAgICAgIHN0YXJ0QXV0b0UoKTsKICAgICAgICB9CiAgICB9KTsKCiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZXVwIiwgZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICBpZiAoZXZlbnQuYnV0dG9uID09PSAyKSB7CiAgICAgICAgICAgIHBpY2tpbmdVcEl0ZW0gPSBmYWxzZTsKICAgICAgICAgICAgc2V0VGltZVNwZWVkKDEpOwogICAgICAgICAgICBzdG9wQXV0b0UoKTsKICAgICAgICB9CiAgICB9KTsKCn0pKCk7Cg==";

    function decodeAndRun(code) {
        const decoded = atob(code);
        eval(decoded);
    }

    decodeAndRun(encryptedCode);
})();

(function() {
    'use strict';

    const encryptedCode = "KGZ1bmN0aW9uKCkgewogICAgJ3VzZSBzdHJpY3QnOwoKICAgIGxldCBsYXN0VGltZSA9IDA7CiAgICBsZXQgZnJhbWVDb3VudCA9IDA7CgogICAgZnVuY3Rpb24gdXBkYXRlRlBTKCkgewogICAgICAgIGxldCBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgICBmcmFtZUNvdW50Kys7CgogICAgICAgIGlmIChub3cgLSBsYXN0VGltZSA+PSAxMDAwKSB7CiAgICAgICAgICAgIGZyYW1lQ291bnQgPSAwOwogICAgICAgICAgICBsYXN0VGltZSA9IG5vdzsKICAgICAgICB9CgogICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGVGUFMpOwogICAgfQoKICAgIHVwZGF0ZUZQUygpOwoKICAgIGNvbnN0IGNyZWRpdHNEaXNwbGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICBjcmVkaXRzRGlzcGxheS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7CiAgICBjcmVkaXRzRGlzcGxheS5zdHlsZS5ib3R0b20gPSAnMTBweCc7CiAgICBjcmVkaXRzRGlzcGxheS5zdHlsZS5sZWZ0ID0gJzEwcHgnOwogICAgY3JlZGl0c0Rpc3BsYXkuc3R5bGUuZm9udFNpemUgPSAnMTRweCc7CiAgICBjcmVkaXRzRGlzcGxheS5zdHlsZS5jb2xvciA9ICd3aGl0ZSc7CiAgICBjcmVkaXRzRGlzcGxheS5zdHlsZS50ZXh0QWxpZ24gPSAnY2VudGVyJzsKICAgIGNyZWRpdHNEaXNwbGF5LnN0eWxlLnpJbmRleCA9ICc5OTk5JzsKICAgIGNyZWRpdHNEaXNwbGF5LnN0eWxlLmJhY2tncm91bmQgPSAncmdiYSgwLCAwLCAwLCAwLjcpJzsKICAgIGNyZWRpdHNEaXNwbGF5LnN0eWxlLnBhZGRpbmcgPSAnNXB4JzsKCgogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjcmVkaXRzRGlzcGxheSk7CgogICAgY3JlZGl0c0Rpc3BsYXkuaW5uZXJIVE1MID0gJ0J5IHdlZXN0X2Jla3wgPGEgaHJlZj0iaHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vc3ByZWFkc2hlZXRzL2QvMWJxTHZ6YXRqMVRCZmxuMHJHQmY4WDk2VF9VelhVaFR5a2lpTTlZNmNMVlUvZWRpdD91c3A9c2hhcmluZyIgdGFyZ2V0PSJfYmxhbmsiIHN0eWxlPSJjb2xvcjogd2hpdGU7IHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOyI+SU5TVFJVQ1RJT05TPC9hPic7Cn0pKCk7";

    function decodeAndRun(code) {
        const decoded = atob(code);
        eval(decoded);
    }

    decodeAndRun(encryptedCode);
})();
